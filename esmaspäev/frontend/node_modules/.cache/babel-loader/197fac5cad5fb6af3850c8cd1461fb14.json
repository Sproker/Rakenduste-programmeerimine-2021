{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Student\\\\Desktop\\\\lessons-main\\\\esmasp\\xE4ev\\\\frontend\\\\src\\\\pages\\\\EditItem.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditItem() {\n  _s();\n\n  const [item, setItem] = useState(null);\n  const nameInputRef = useRef();\n  const priceInputRef = useRef();\n  const categoryInputRef = useRef();\n  useEffect(() => {\n    const itemId = window.location.href.split(\"/edit-item/\")[1];\n    fetch(\"http://localhost:8080/view-item/\" + itemId).then(response => {\n      return response.json();\n    }).then(data => {\n      console.log(data);\n      setItem(data);\n    });\n  }, []);\n\n  if (item == null) {\n    return \"Loading....\";\n  }\n\n  function formSubmitHandler(e) {\n    e.preventDefault();\n    console.log(\"vorm 6nnestus\");\n    const nameValue = nameInputRef.current.value;\n    const priceValue = priceInputRef.current.value;\n    const categoryValue = categoryInputRef.current.value;\n    const itemSubmitted = {\n      id: item.id,\n      name: nameValue,\n      price: priceValue,\n      category: categoryValue\n    };\n    fetch('http://localhost:8080/edit-item', {\n      method: 'POST',\n      body: JSON.stringify(itemSubmitted),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: formSubmitHandler,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Eseme nimi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Nimi\",\n      defaultValue: item.name,\n      required: true,\n      ref: nameInputRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Eseme hind\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      placeholder: \"Hind\",\n      defaultValue: item.price,\n      required: true,\n      ref: priceInputRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Eseme karegooria\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Kategooria\",\n      defaultValue: item.category,\n      required: true,\n      ref: categoryInputRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"TooteSisestus\",\n      children: \"Muuda toodet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_s(EditItem, \"bO66rsZ2glV6b8L108HIE+8DAnc=\");\n\n_c = EditItem;\nexport default EditItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditItem\");","map":{"version":3,"sources":["C:/Users/Student/Desktop/lessons-main/esmaspÃ¤ev/frontend/src/pages/EditItem.js"],"names":["useEffect","useState","useRef","EditItem","item","setItem","nameInputRef","priceInputRef","categoryInputRef","itemId","window","location","href","split","fetch","then","response","json","data","console","log","formSubmitHandler","e","preventDefault","nameValue","current","value","priceValue","categoryValue","itemSubmitted","id","name","price","category","method","body","JSON","stringify","headers"],"mappings":"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","sourcesContent":["import { useEffect, useState, useRef } from \"react\";\r\n\r\nfunction EditItem(){\r\n    const [item, setItem] = useState(null);\r\n    const nameInputRef = useRef();\r\n    const priceInputRef = useRef();\r\n    const categoryInputRef = useRef();\r\n\r\n    useEffect(()=> {\r\n        const itemId = window.location.href.split(\"/edit-item/\")[1];\r\n        fetch(\"http://localhost:8080/view-item/\" + itemId).then(response=> {\r\n        return response.json();\r\n        }).then(data => {\r\n            console.log(data);\r\n            setItem(data);\r\n        })\r\n    } ,[])\r\n    \r\n    if(item == null){\r\n        return \"Loading....\";\r\n    }\r\n\r\n\r\n    function formSubmitHandler(e){\r\n        e.preventDefault();\r\n        console.log(\"vorm 6nnestus\");\r\n\r\n        const nameValue = nameInputRef.current.value;\r\n        const priceValue = priceInputRef.current.value;\r\n        const categoryValue = categoryInputRef.current.value;\r\n\r\n        const itemSubmitted={\r\n            id: item.id,\r\n            name: nameValue,\r\n            price: priceValue,\r\n            category: categoryValue\r\n        }\r\n        fetch('http://localhost:8080/edit-item', {\r\n            method: 'POST',\r\n            body: JSON.stringify(itemSubmitted),\r\n            headers: {\r\n                'Content-Type':'application/json'\r\n            }\r\n        });\r\n        \r\n    }\r\n\r\n    return(\r\n        <form onSubmit={formSubmitHandler}>\r\n \r\n            <label>Eseme nimi</label> \r\n            <br/>\r\n            <input type=\"text\" placeholder=\"Nimi\" defaultValue={item.name} required ref={nameInputRef} />\r\n            <br/>\r\n            <label>Eseme hind</label> \r\n            <br/>\r\n            <input type=\"number\" placeholder=\"Hind\" defaultValue={item.price} required ref={priceInputRef} />\r\n            <br/>\r\n            <label>Eseme karegooria</label> \r\n            <br/>\r\n            <input type=\"text\" placeholder=\"Kategooria\" defaultValue={item.category} required ref={categoryInputRef} />\r\n            <br/>\r\n            <button className=\"TooteSisestus\">Muuda toodet</button>\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\nexport default EditItem;"]},"metadata":{},"sourceType":"module"}